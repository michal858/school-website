<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="System zarzadzania szkola - panel dla uczniow, nauczycieli i administratorow"
    />
    <meta
      name="keywords"
      content="szkola, edukacja, system zarzadzania, wyklady, obecnosc"
    />
    <title>{% block title %}School Management System{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    {% block extra_css %}{% endblock %}
  </head>
  <body class="bg-gray-50 flex flex-col min-h-screen">
    <!-- Skip to main content for accessibility -->
    <a
      href="#main-content"
      class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded"
    >
      Przeskocz do tresci
    </a>

    <nav
      class="bg-white shadow-md sticky top-0 z-50"
      role="navigation"
      aria-label="Glowna nawigacja"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <div class="flex-shrink-0">
            <a
              href="{{ url_for('home.index') }}"
              class="text-2xl font-bold text-blue-600"
              aria-label="Strona glowna SchoolWeb"
            >
              SchoolWeb
            </a>
          </div>

          <div class="hidden md:flex items-center space-x-8">
            {% if current_user.is_authenticated %} {% if current_user.role ==
            'Admin' %}
            <a
              href="{{ url_for('admin.dashboard') }}"
              class="text-gray-700 hover:text-blue-600 transition"
              >Panel Sterowania</a
            >
            <a
              href="{{ url_for('admin.users') }}"
              class="text-gray-700 hover:text-blue-600 transition"
              >Uzytkownicy</a
            >
            <a
              href="{{ url_for('admin.lectures') }}"
              class="text-gray-700 hover:text-blue-600 transition"
              >Wyklady</a
            >

            {% elif current_user.role == 'Teacher' %}
            <a
              href="{{ url_for('teacher.dashboard') }}"
              class="text-gray-700 hover:text-blue-600 transition"
              >Panel Sterowania</a
            >

            {% elif current_user.role == 'Student' %}
            <a
              href="{{ url_for('students.dashboard') }}"
              class="text-gray-700 hover:text-blue-600 transition"
              >Panel Sterowania</a
            >

            {% endif %}

            <a
              href="{{ url_for('auth.logout') }}"
              class="text-gray-700 hover:text-blue-600 transition"
              >Wyloguj</a
            >
            {% else %}
            <a
              href="{{ url_for('auth.login') }}"
              class="text-gray-700 hover:text-blue-600 transition"
              >Zaloguj</a
            >
            <a
              href="{{ url_for('auth.signup') }}"
              class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition"
              >Zarejestruj sie</a
            >
            {% endif %}
          </div>

          <div class="md:hidden">
            <button
              id="mobile-menu-btn"
              class="text-gray-700 hover:text-blue-600 transition"
              aria-label="OtwÃ³rz menu mobilne"
              aria-expanded="false"
              aria-controls="mobile-menu"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                ></path>
              </svg>
            </button>
          </div>
        </div>

        <div id="mobile-menu" class="hidden md:hidden pb-4 space-y-2">
          {% if current_user.is_authenticated %} {% if current_user.role ==
          'Admin' %}
          <a
            href="{{ url_for('admin.dashboard') }}"
            class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded"
            >Panel Sterowania</a
          >
          <a
            href="{{ url_for('admin.users') }}"
            class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded"
            >Uzytkownicy</a
          >
          <a
            href="{{ url_for('admin.lectures') }}"
            class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded"
            >Wyklady</a
          >
          {% elif current_user.role == 'Teacher' %}
          <a
            href="{{ url_for('teacher.dashboard') }}"
            class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded"
            >Panel Sterowania</a
          >
          {% elif current_user.role == 'Student' %}
          <a
            href="{{ url_for('students.dashboard') }}"
            class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded"
            >Panel Sterowania</a
          >
          {% endif %}
          <a
            href="{{ url_for('auth.logout') }}"
            class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded"
            >Wyloguj</a
          >
          {% else %}
          <a
            href="{{ url_for('auth.login') }}"
            class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded"
            >Zaloguj</a
          >
          <a
            href="{{ url_for('auth.signup') }}"
            class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded"
            >Rejestracja
          </a>
          {% endif %}
        </div>
      </div>
    </nav>

    <main
      id="main-content"
      class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex-grow w-full"
      role="main"
    >
      {% block content %}{% endblock %}
    </main>



    <script>
      document
        .getElementById("mobile-menu-btn")
        .addEventListener("click", function () {
          const menu = document.getElementById("mobile-menu");
          const isHidden = menu.classList.toggle("hidden");
          this.setAttribute("aria-expanded", !isHidden);
        });
    </script>

    {% block extra_js %}{% endblock %}
  </body>
</html>
